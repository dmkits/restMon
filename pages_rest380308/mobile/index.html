<!DOCTYPE html>
<html>
<head>
    <!--
        Customize this policy to fit your own app's needs. For more guidance, see:
            https://github.com/apache/cordova-plugin-whitelist/blob/master/README.md#content-security-policy
        Some notes:
            * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
            * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
            * Disables use of inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
                * Enable inline JS: add 'unsafe-inline' to default-src
    -->
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <!--<meta http-equiv="Content-Security-Policy" content="default-src 'self' data:'unsafe-inline' gap: https://ssl.gstatic.com 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">-->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: gap: content:">
    <meta charset=utf-8>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui, viewport-fit=cover">
    <!--<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">-->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#2196f3">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <link rel="shortcut icon" href="../imgm/cook-ico32.png">
    <script src="../framework7/js/framework7.min.js"></script>
    <link rel="stylesheet" href="../framework7/css/framework7.min.css">
    <!--<link rel="stylesheet" href="../framework7/css/framework7.md.min.css">-->
    <!--<link rel="stylesheet" href="../framework7/css/framework7.ios.min.css">-->
    <link rel="stylesheet" type="text/css" href="../css/mobileIndex.css">
    <link rel="stylesheet" type="text/css" href="../css/mobileIcons.css">
    <link rel="stylesheet" type="text/css" href="../css/mobileApp.css">
    <script src="../js/fr7MUIFuncts.js"></script>
    <script src="../js/moment/moment.js"></script>
    <script src="../cordova.js"></script>
    <script src="../js/device.js"></script>
    <title>RestMon</title>
</head>
<body>
<div id="app">
    <div class="appbar">
        <div class="appbar-inner">
            <div style="display:table;width:100%;min-height:25px;text-align:center">
                <span id="appbar-user" style="display:table-cell;font-size:18px;font-weight:bold"></span>
                <span id="appbar-modeMsg" style="display:table-cell;color:red;font-size:18px;font-weight:bold"></span>
            </div>
        </div>
    </div>
    <div class="view view-main" style="height:calc(100% - 25px)">
        <div class="page"></div>
    </div>
</div>
<script>
    var $$=Dom7,
            baseRoutes= [//-- App routes --
                { path: '/home', pageName: 'home', options:{clearPreviousHistory:true,ignoreCache:true} },
                { path: '/pageHelpAbout', componentUrl: 'pageHelpAbout.html'},
                { path: '/pageSettingsCommon', componentUrl: 'pageSettingsCommon.html'},
                { path: '(.*)', url: './actionError' }// Default route (404 page). MUST BE THE LAST
            ],
            app7= new Framework7({// Framework7 App main instance
                id:'io.framework7.mobile.gabis', version:"1.0.0",
                root: '#app', // app7 root element
                theme: 'ios', //for mobile app gabis ios!!! //'auto' - Automatic theme detection, Can be md, ios or aurora
                routes: baseRoutes,
                workingDoc:null
            }),
            mainView= app7.views.create('.view-main',{domCache:true,stackPages:true});                             //app7.dialog.alert('<span style="font-size:18px">1</span>', "debug")//IT'S FOR TEST
    framework7MUIFunctions.init(app7);
    app7.convertRoutesForMApp=function(userRoutesItem){
        if(userRoutesItem&&userRoutesItem.url) userRoutesItem.url=userRoutesItem.url.replace("./mobile/","");
        if(userRoutesItem&&userRoutesItem.componentUrl) userRoutesItem.componentUrl=userRoutesItem.componentUrl.replace("/mobile/","")+".html";
    };
    app7.data={uuid:"", aidcn:"restMon"};//aidcn - application id config name
    app7.request.setup({ headers: {'uuid':app7.data.uuid,'aidcn':app7.data.aidcn} });
    if(!app7.data['serverURI'])app7.data['serverURI']=(window&&window.origin)?window.origin:"http://192.162.238.68:58080";//"http://192.168.56.21:8181"--USE FOR TEST!!!
    mainView.router.navigate("/pageMain");
</script>
</body>
</html>
